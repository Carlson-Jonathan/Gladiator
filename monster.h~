/******************************************************************************
* monster.h
* Author: Jonathan Carlson
* Updated: September 2020
* Description:
*    Houses all information regarding monsters. Default constructor generates
*    a random monster from the list of monsters.
******************************************************************************/
#ifndef MONSTER_H
#define MONSTER_H
#include <iostream>
#include <vector>
#include <stdio.h> 
#include <stdlib.h> 
#include <time.h> 
#include "advancedWeapon.h"
using namespace std;

class Monster {
    
public:

   // Generates a random monster
   Monster() {
      srand(time(0));
      int x = rand() % monsters.size();
      pair<string, vector<int>> newMonster = monsters[x];
      this->name =          newMonster.first;
      this->hitPoints =     newMonster.second[0];
      this->bloodPoints =   newMonster.second[1];
      this->essencePoints = newMonster.second[2];
   }

   // Getters
   string getName()         {return name;}   
   int getHitPoints()       {return hitPoints;}
   int getBloodPoints()     {return bloodPoints;}
   int getEssencePoints()   {return essencePoints;}
   BasicWeapon* getWeapon1() {return weapon1;}
   BasicWeapon* getWeapon2() {return weapon2;}

   // Setters
   void setHitPoints(int change)      {hitPoints += change;}
   void setBloodPoints(int change)    {bloodPoints += change;}
   void setEssencePoints(int change)  {essencePoints += change;}
   void setWeapon1(string name, short min, short range, float st, float cr, float sl, float ch) {
      weapon1 = new BasicWeapon(name, min, range, st, cr, sl, ch);
   }
    void setWeapon2(string name, short min, short range, float st, float cr, float sl, float ch) {
      weapon2 = new BasicWeapon(name, min, range, st, cr, sl, ch);
   }

   void displayStats() {
      cout << name << " stats:\n"
           << "Hit Points:\t"     << getHitPoints()     << "\n"
           << "Blood Points\t"    << getBloodPoints()   << "\n"
           << "Essence Points:\t" << getEssencePoints() << "\n\n";
	}

private:
   string name;
   int hitPoints,
       bloodPoints,
       essencePoints;
       BasicWeapon* weapon1;
       BasicWeapon* weapon2;

   // Monster vulnerability multiplier
   float vStab,
         vCrush,
         vSlash,
         vChop;

   // Modify later to include vulerability floats: 
   // pair<string, pair<vector<int>, vector<float>>>
   pair<string, vector<int>> 
   //            Monster Name   HP    BP   EP 
   skeleton =  {"Skeleton",    {200, 1000, 150} },
   slime =     {"Slime",       {800,  275, 350} },
   snake =     {"Cobra",       {300,  200, 250} },
   wolf =      {"Timber Wolf", {400,  300, 600} },
   giantWasp = {"Giant Wasp",  {350,  750, 650} },
   zombie =    {"Zombie",      {800, 1400, 500} };

   vector<pair<string, vector<int>>> monsters = {
   skeleton, slime, snake, wolf, giantWasp, zombie 
   };
};

#endif // HERO_H